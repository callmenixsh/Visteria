<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta
			name="description"
			content="Visteria visit tracking dashboard for your personal projects."
		/>
		<title>Visteria | Visit Tracking</title>
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
			rel="stylesheet"
		/>
	</head>
	<body>
		<div id="root"></div>
		<script type="module">
			(function () {
				const config = {
					baseUrl: "https://visteria.vercel.app",
					siteId: "Visteria" || location.hostname,
				};
				const key = "visteria_" + config.siteId;
				if (sessionStorage.getItem(key)) return;
				sessionStorage.setItem(key, "1");
				const endpoint =
					config.baseUrl +
					(config.baseUrl.endsWith("/api") ? "" : "/api") +
					"/visits/track";
				fetch(endpoint, {
					method: "POST",
					headers: { "Content-Type": "application/json" },
					body: JSON.stringify({
						siteId: config.siteId,
						url: location.href,
						referrer: document.referrer,
						userAgent: navigator.userAgent,
						visitedAt: new Date().toISOString(),
					}),
					keepalive: true,
				}).catch(() => {});
			})();
		</script>
		<script type="module" src="/src/main.jsx"></script>
	</body>
</html>
